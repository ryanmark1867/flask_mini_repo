<!DOCTYPE html> 
<head> 
	<title> 
		Predicting how many bikes will be rented based on temperature, season, and humidity
	</title> 
	<link rel="stylesheet" href="{{ url_for('static', filename='css/main2.css') }}">
</head> 
<!-- <main section> -->
<body onload="load_selections()">
<div class="home"> 
	<h1 style="color: green"> 
		Please select the details for the conditions you want a bike rental prediction for
	</h1> 
	<!-- show selection lists for each categorical parameter -->
	<p> 
		Select the season: 
		<!-- season-->
		<select id="season" > 
		</select> 
	</p>
	<p> 
		<label for="temp">Temperature (C):</label>

			<input type="number" id="temp" name="temp"
			min="-20" max="50">
	</p>
	<p> 
		<label for="humidity">Humidity (%):</label>

			<input type="number" id="humidity" name="humidity"
			min="0" max="100">
	</p>



	
	<!-- button to invoke JS functions that assemble selected scoring parameters and link to show-prediction.html -->
	<button>
	<a onclick="link_with_args();" style="font-size : 20px; width: 100%; height: 100px;">Get prediction</a>
	</button>
	
	<!-- echo the link (including scoring parameters) to show-prediction.html -->
	<p> 
		The value of the option selected is: 
		<span class="output"></span> 
	</p> 
	

	
	<script type="text/javascript"> 
		function getOption() { 
			// load selections from HTML controls into JS variables
			selectElementseason = document.querySelector('#season'); 
			// load values of continuous scoring parameters
			temp_value = document.getElementById("temp").value;
			humidity_value = document.getElementById("humidity").value;
			// load the values selected for the scoring parameters into JS variables
			season_string = selectElementseason.options[selectElementseason.selectedIndex].value
			// build complete URL, including scoring parameters, for the result display page
			//
			prefix = "/show-prediction/?"
			window.output = prefix.concat("temp=",temp_value,"&season=",season_string,"&humidity=",humidity_value);
		} 
	</script> 
	<script>
	function link_with_args(){
	// call getOption to create the URL (including scoring parameters) from HTML control selections
	getOption();	
	console.log("in link_with_args");
	console.log(window.output);
	// specify the target of the link = the URL generated by getOption
	window.location.href = window.output;
	}		
	</script>
	<script>
	function load_selections(){
	// initialize all selections
	var select_season = document.getElementById("season"); 
	var season_list = ["Winter" ,"Spring" ,"Summer" ,"Fall"];
	console.log("season_list defined");
	console.log(season_list);
	// set defaults for numeric input fields:
	document.getElementById("temp").defaultValue = 15;
	document.getElementById("humidity").defaultValue = 20;
		
	// Populate workclass list:
		for(var i = 0; i < season_list.length; i++) {
			var opt = season_list[i];
			select_season.innerHTML += "<option value=\"" + opt + "\">" + opt + "</option>";
		}

	};
	
	</script>

</div>
</body> 




</html>					 
